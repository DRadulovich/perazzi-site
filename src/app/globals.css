@import "tailwindcss";
@plugin "@tailwindcss/typography";

/* ---------- Brand Tokens (Perazzi) ---------- */
:root {
  --brand: #bb1010;
  --brand-hover: #9c0b0b;
  --card: #ffffff;
  --ink: #0f0f0f;
  --ink-muted: #585858;
  --canvas: #faf7f1;
  --subtle: rgba(15,15,15,0.08);
  --chat-rail-width: 0px;
  color-scheme: light;

  /* Brand core */
  --perazzi-red: #DB1022;
  --perazzi-black: #1F1F1F;
  --perazzi-white: #FFFFFF;

  /* Light surfaces */
  --surface-canvas: var(--perazzi-white);
  --surface-card: #F7F7F7;
  --surface-elevated: #F2F2F2;

  /* Light ink */
  --ink-primary: #1F1F1F;
  --ink-muted: #6C6C6C;

  /* UI basics */
  --border-color: #E6E6E6;
  --focus-ring: var(--perazzi-red);
  --focus-ring-inner: var(--perazzi-white);

  /* Legibility on imagery */
  --scrim-strong: rgba(31, 31, 31, 0.66);
  --scrim-soft: rgba(31, 31, 31, 0.4);
}

[data-theme="dark"] {
  color-scheme: dark;

  --surface-canvas: #0F0F10;
  --surface-card: #141415;
  --surface-elevated: #1A1A1B;

  --ink-primary: #F5F5F5;
  --ink-muted: #B9B9B9;

  --border-color: #2A2A2B;
  --focus-ring: var(--perazzi-red);
  --focus-ring-inner: #0F0F10;

  --scrim-strong: rgba(0, 0, 0, 0.66);
  --scrim-soft: rgba(0, 0, 0, 0.4);
}

/* Tailwind theme bindings (inline) */
@theme inline {
  --font-sans: var(--font-geist-sans), "Inter", "Segoe UI", system-ui, sans-serif;
  --font-serif: "Playfair Display", Georgia, serif;
  --font-artisan: "Cedarville Cursive", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  --font-mono: var(--font-geist-mono), "IBM Plex Mono", ui-monospace, monospace;
  --container-xs: 20rem;
  --container-sm: 24rem;
  --container-md: 28rem;
  --container-lg: 32rem;
  --container-xl: 36rem;
  --container-2xl: 42rem;
  --container-3xl: 48rem;
  --container-4xl: 56rem;
  --container-5xl: 64rem;
  --container-6xl: 72rem;
  --container-7xl: 80rem;

  --color-perazzi-red: var(--perazzi-red);
  --color-perazzi-black: var(--perazzi-black);
  --color-perazzi-white: var(--perazzi-white);

  --color-canvas: var(--surface-canvas);
  --color-card: var(--surface-card);
  --color-ink: var(--ink-primary);
  --color-ink-muted: var(--ink-muted);
  --color-border: var(--border-color);
  --color-focus: var(--focus-ring);

  --spacing-3xs: 0.25rem;
  --spacing-2xs: 0.375rem;
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  --spacing-3xl: 4rem;
}

@layer utilities {
  .max-w-sm { max-width: 24rem; }
  .max-w-md { max-width: 28rem; }
  .max-w-lg { max-width: 32rem; }
  .max-w-xl { max-width: 36rem; }
  .max-w-2xl { max-width: 42rem; }
  .max-w-3xl { max-width: 48rem; }
  .max-w-4xl { max-width: 56rem; }
  .max-w-5xl { max-width: 64rem; }
  .max-w-6xl { max-width: 72rem; }
  .max-w-7xl { max-width: 80rem; }
}

/* Base */
*, *::before, *::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: var(--color-canvas);
  color: var(--color-ink);
  font-family: var(--font-sans);
  line-height: 1.6;
  text-rendering: optimizeLegibility;
  padding-right: var(--chat-rail-width, 0px);
  transition: padding-right 0.2s ease;
  overflow-x: hidden;
}

/* Focus ring (Perazzi red) */
.focus-ring {
  outline: none;
  transition: box-shadow 0.15s ease;
}

.focus-ring:focus-visible {
  box-shadow:
    0 0 0 2px var(--focus-ring-inner),
    0 0 0 4px var(--focus-ring);
}

[data-theme="dark"] .focus-ring:focus-visible {
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.06),
    0 0 0 4px var(--focus-ring);
}

/* Skip link (brand red) */
.skip-link {
  position: fixed;
  top: 1rem;
  left: 1rem;
  padding: 0.5rem 1rem;
  background: var(--color-perazzi-red);
  color: var(--perazzi-white);
  border-radius: 999px;
  font-weight: 600;
  transform: translateY(-200%);
  transition: transform 0.2s ease, opacity 0.2s ease;
  z-index: 999;
  text-decoration: none;
}

.skip-link:focus-visible {
  transform: translateY(0);
}

/* Selection */
::selection {
  background: color-mix(in srgb, var(--color-perazzi-red) 45%, var(--color-canvas));
  color: var(--perazzi-white);
}

/* Scrims for legible text-on-image */
.scrim-strong {
  background: linear-gradient(to top, var(--scrim-strong), transparent);
}

.scrim-soft {
  background: linear-gradient(to top, var(--scrim-soft), transparent);
}

@media (max-width: 1024px) and (orientation: portrait) {
  .home-hero-media img {
    object-position: right center;
  }
}

/* CTA baseline class */
.btn--primary {
  background: var(--color-perazzi-red);
  color: var(--perazzi-white);
}

.btn--primary:hover {
  filter: brightness(0.92);
}

.btn--primary:active {
  filter: brightness(0.88);
}

/* Semantic utility helpers */
.bg-canvas { background-color: var(--color-canvas); }
.bg-card { background-color: var(--color-card); }
.bg-elevated { background-color: var(--surface-elevated); }
.text-ink { color: var(--color-ink); }
.text-ink-muted { color: var(--color-ink-muted); }
.border-subtle { border-color: var(--border-color); }
.border-border { border-color: var(--border-color); }

.card-media {
  overflow: hidden;
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
}

@keyframes accordion-down {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--radix-collapsible-content-height);
    opacity: 1;
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-collapsible-content-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}

.animate-accordion-down {
  animation: accordion-down 0.25s ease-out;
}

.animate-accordion-up {
  animation: accordion-up 0.25s ease-out;
}

/* Premium radius scale */
.rounded-3xl { border-radius: 1rem !important; } /* 16px */
.rounded-2xl { border-radius: 0.75rem !important; } /* 12px */
.rounded-xl { border-radius: 0.5rem !important; } /* 8px */

.bg-brand { background-color: var(--brand); color: var(--card); }
.bg-brand-hover { background-color: var(--brand-hover); color: var(--card); }

/* Premium shadow scale */
.shadow-soft { box-shadow: 0 6px 18px rgba(15,15,15,0.08); }
.shadow-medium { box-shadow: 0 12px 32px rgba(15,15,15,0.14); }
.shadow-elevated { box-shadow: 0 20px 60px rgba(15,15,15,0.15); }

.button-primary,
.button-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-height: 2.5rem; /* ~40px tap target */
  border-radius: 9999px;
  padding: 0.5rem 1.5rem;
  font-weight: 600;
}
.button-primary {
  background: var(--ink);
  color: var(--card);
  transition: background 0.2s ease;
}
.button-primary:hover {
  background: var(--ink-muted);
}
.button-secondary {
  border: 1px solid var(--subtle);
}
.button-secondary:hover {
  border-color: var(--ink);
}

@layer components {
  .prose {
    --tw-prose-body: var(--color-ink);
    --tw-prose-headings: var(--color-ink);
    --tw-prose-lead: var(--ink-muted);
    --tw-prose-links: var(--color-ink);
    --tw-prose-bold: var(--color-ink);
    --tw-prose-counters: var(--ink-muted);
    --tw-prose-bullets: var(--ink-muted);
    --tw-prose-hr: var(--border-color);
    --tw-prose-quotes: var(--color-ink);
    --tw-prose-quote-borders: var(--border-color);
    --tw-prose-captions: var(--ink-muted);
    --tw-prose-code: var(--color-ink);
    --tw-prose-pre-code: var(--perazzi-white);
    --tw-prose-pre-bg: var(--surface-elevated);
    --tw-prose-th-borders: var(--border-color);
    --tw-prose-td-borders: var(--border-color);
    --tw-prose-invert-body: var(--perazzi-white);
    --tw-prose-invert-headings: var(--perazzi-white);
    --tw-prose-invert-lead: var(--perazzi-white);
    --tw-prose-invert-links: var(--perazzi-white);
    --tw-prose-invert-bold: var(--perazzi-white);
    --tw-prose-invert-counters: var(--perazzi-white);
    --tw-prose-invert-bullets: var(--perazzi-white);
    --tw-prose-invert-hr: var(--border-color);
    --tw-prose-invert-quotes: var(--perazzi-white);
    --tw-prose-invert-quote-borders: var(--border-color);
    --tw-prose-invert-captions: var(--ink-muted);
    --tw-prose-invert-code: var(--perazzi-white);
    --tw-prose-invert-pre-code: var(--color-ink);
    --tw-prose-invert-pre-bg: var(--perazzi-white);
    --tw-prose-invert-th-borders: var(--border-color);
    --tw-prose-invert-td-borders: var(--border-color);
  }
}
